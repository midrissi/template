'use strict';(function() {	var m = model.I18n,		methods = m.methods,		config = require('config'),		i18nConf = config.i18n,		defLang = i18nConf['default'],		utils = require('utils');	methods.__ = function(key, req) {		var ent = this.find('key == :1', key);		var lang = defLang;		if (!ent) {			return key;		}		switch (typeof req) {			case "object":				lang = utils.getLanguage(req);				if (Array.isArray(lang)) {					for (var i = 0, l; i < lang.length; i++) {						l = lang[i];						if (ent[l]) {							lang = l;							break;						}					}					lang = defLang;				}				break;			case "string":				lang = req;				break;		}		return ent[lang]? ent[lang]: ent[defLang];	};	methods.__.scope = 'public';})();